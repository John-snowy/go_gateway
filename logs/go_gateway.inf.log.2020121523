[INFO][2020-12-15T23:19:38.525][log.go:58] _com_request_in||spanid=9f70afa2380704bb||method=GET||body=||from=127.0.0.1||cspanid=||uri=/app/app_list?page_size=22&page_no=1||args=map[]||traceid=c0a87ba85fd8d40a046e44c0104dc7b0
[INFO][2020-12-15T23:19:38.525][log.go:58] _com_request_out||method=GET||from=127.0.0.1||response={\"errno\":2002,\"errmsg\":\"get pool error\",\"data\":\"\",\"trace_id\":\"c0a87ba85fd8d40a046e44c0104dc7b0\",\"stack\":\"get pool error\"}||proc_time=0.00196972||cspanid=||spanid=9f70afa2380704bb||uri=/app/app_list?page_size=22&page_no=1||args=map[]||traceid=c0a87ba85fd8d40a046e44c0104dc7b0
[INFO][2020-12-15T23:21:00.159][log.go:58] _com_request_in||spanid=9f70aff4380704bb||uri=/app/app_list?page_size=22&page_no=1||args=map[]||body=||from=127.0.0.1||cspanid=||method=GET||traceid=c0a87ba85fd8d45cf9e14548104dc7b0
[INFO][2020-12-15T23:21:00.159][log.go:58] _com_mysql_success||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:58||proc_time=0.000000000||sql=SELECT * FROM `gateway_app`  WHERE (is_delete='0') ORDER BY id desc LIMIT 22 OFFSET 0||affected_row=2||traceid=c0a87ba85fd8d45cf9e14548104dc7b0||cspanid=||spanid=9f70aff4380704bb||current_time=2020-12-15 23:21:00
[INFO][2020-12-15T23:21:00.159][log.go:58] _com_mysql_success||level=sql||proc_time=0.000000000||traceid=c0a87ba85fd8d45cf9e14548104dc7b0||cspanid=||source=/home/john/go/src/github.com/go_gateway/dao/app.go:62||current_time=2020-12-15 23:21:00||sql=SELECT count(*) FROM `gateway_app`  WHERE (is_delete='0')||affected_row=0||spanid=9f70aff4380704bb
[INFO][2020-12-15T23:21:00.159][log.go:58] _com_request_out||proc_time=0.048767161||cspanid=||uri=/app/app_list?page_size=22&page_no=1||method=GET||args=map[]||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"list\":[{\"id\":32,\"app_id\":\"app_id_b\",\"name\":\"租户B\",\"secret\":\"8d7b11ec9be0e59a36b52f32366c09cb\",\"white_ips\":\"\",\"qpd\":20,\"qps\":0,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0},{\"id\":31,\"app_id\":\"app_id_a\",\"name\":\"租户A\",\"secret\":\"449441eb5e72dca9c42a12f3924ea3a2\",\"white_ips\":\"white_ips\",\"qpd\":100000,\"qps\":100,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0}],\"total\":2},\"trace_id\":\"c0a87ba85fd8d45cf9e14548104dc7b0\",\"stack\":null}||spanid=9f70aff4380704bb||traceid=c0a87ba85fd8d45cf9e14548104dc7b0
[INFO][2020-12-15T23:21:15.793][log.go:58] _com_request_in||body=||from=127.0.0.1||uri=/app/app_detail?id=32||args=map[]||traceid=c0a87ba85fd8d46b9f4c4548697f48b0||cspanid=||spanid=9f70afc3268447a4||method=GET
[INFO][2020-12-15T23:21:15.793][log.go:58] _com_mysql_success||level=sql||current_time=2020-12-15 23:21:15||traceid=c0a87ba85fd8d46b9f4c4548697f48b0||cspanid=||source=/home/john/go/src/github.com/go_gateway/dao/app.go:33||proc_time=0.000000000||sql=SELECT * FROM `gateway_app`  WHERE (`gateway_app`.`id` = '32')||affected_row=1||spanid=9f70afc3268447a4
[INFO][2020-12-15T23:21:15.793][log.go:58] _com_request_out||args=map[]||from=127.0.0.1||cspanid=||uri=/app/app_detail?id=32||method=GET||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"id\":32,\"app_id\":\"app_id_b\",\"name\":\"租户B\",\"secret\":\"8d7b11ec9be0e59a36b52f32366c09cb\",\"white_ips\":\"\",\"qpd\":20,\"qps\":0,\"create_at\":\"2020-04-15T21:40:52+08:00\",\"update_at\":\"2020-04-21T07:23:27+08:00\",\"is_delete\":0},\"trace_id\":\"c0a87ba85fd8d46b9f4c4548697f48b0\",\"stack\":null}||proc_time=0.001865068||traceid=c0a87ba85fd8d46b9f4c4548697f48b0||spanid=9f70afc3268447a4
[INFO][2020-12-15T23:21:25.462][log.go:58] _com_request_in||method=GET||uri=/app/app_stat?id=32||args=map[]||body=||from=127.0.0.1||traceid=c0a87ba85fd8d475b1c845486cffa2b0||cspanid=||spanid=9f70afdd30b95ff1
[INFO][2020-12-15T23:21:25.462][log.go:58] _com_mysql_success||source=/home/john/go/src/github.com/go_gateway/dao/app.go:33||affected_row=1||cspanid=||spanid=9f70afdd30b95ff1||traceid=c0a87ba85fd8d475b1c845486cffa2b0||level=sql||current_time=2020-12-15 23:21:25||proc_time=0.000000000||sql=SELECT * FROM `gateway_app`  WHERE (`gateway_app`.`id` = '32')
[INFO][2020-12-15T23:21:25.462][log.go:58] _com_request_out||method=GET||response=<nil>||proc_time=0.002492813||traceid=c0a87ba85fd8d475b1c845486cffa2b0||cspanid=||spanid=9f70afdd30b95ff1||uri=/app/app_stat?id=32||args=map[]||from=127.0.0.1
[INFO][2020-12-15T23:21:25.462][log.go:58] _com_panic||traceid=c0a87ba85fd8d475b1c845486cffa2b0||cspanid=||spanid=9f70afdd30b95ff1||error=time: missing Location in call to Time.In||stack=goroutine 12 [running]:\nruntime/debug.Stack(0xcd1fc0, 0xc000485068, 0xdd1c08)\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x9d\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1.1(0xc00020afd0)\n\t/home/john/go/src/github.com/go_gateway/middleware/recovery.go:21 +0x213\npanic(0xc8ec40, 0xf16b10)\n\t/usr/local/go/src/runtime/panic.go:969 +0x166\ntime.Time.In(...)\n\t/usr/local/go/src/time/time.go:1126\ngithub.com/go_gateway/public.(*RedisFlowCountService).GetHourKey(0xc000624140, 0x0, 0xed7698300, 0xc0001350e0, 0x7fffffffffffffff, 0x5fd7fc80)\n\t/home/john/go/src/github.com/go_gateway/public/redis_flow_count.go:79 +0x1e6\ngithub.com/go_gateway/public.(*RedisFlowCountService).GetHourData(0xc000624140, 0x0, 0xed7698300, 0xc0001350e0, 0x0, 0x0, 0x0)\n\t/home/john/go/src/github.com/go_gateway/public/redis_flow_count.go:84 +0x4d\ngithub.com/go_gateway/controller.(*APPController).AppStatistics(0x1e2a6e8, 0xc00020afd0)\n\t/home/john/go/src/github.com/go_gateway/controller/app.go:289 +0x3f1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020afd0)\n\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.TranslationMiddleware.func1(0xc00020afd0)\n\t/home/john/go/src/github.com/go_gateway/middleware/translation.go:177 +0x6ea\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020afd0)\n\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.SessionAuthMiddleware.func1(0xc00020afd0)\n\t/home/john/go/src/github.com/go_gateway/middleware/session_auth.go:18 +0x144\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020afd0)\n\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.RequestLog.func1(0xc00020afd0)\n\t/home/john/go/src/github.com/go_gateway/middleware/request_log.go:59 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020afd0)\n\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1(0xc00020afd0)\n\t/home/john/go/src/github.com/go_gateway/middleware/recovery.go:33 +0x4e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020afd0)\n\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc00020afd0)\n\t/home/john/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20191209060500-d6e26eeaa607/sessions/sessions.go:65 +0x19d\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020afd0)\n\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc00020afd0)\n\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x60\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020afd0)\n\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc00020afd0)\n\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020afd0)\n\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc00014e280, 0xc00020afd0)\n\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5b0\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc00014e280, 0xf3cbe0, 0xc0005be0e0, 0xc000096200)\n\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x133\nnet/http.serverHandler.ServeHTTP(0xc0002ae1c0, 0xf3cbe0, 0xc0005be0e0, 0xc000096200)\n\t/usr/local/go/src/net/http/server.go:2836 +0xa3\nnet/http.(*conn).serve(0xc0001706e0, 0xf3f7e0, 0xc000624240)\n\t/usr/local/go/src/net/http/server.go:1924 +0x86c\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:2962 +0x35c\n
[INFO][2020-12-15T23:22:01.102][log.go:58] _com_request_in||method=POST||args=map[]||body={\n  \"app_id\": \"test_app_1\",\n  \"name\": \"test_app_1\",\n  \"qpd\": 2000,\n  \"qps\": 20,\n  \"secret\": \"\",\n  \"white_ips\": \"\"\n}||from=127.0.0.1||spanid=9f70af3125845c95||uri=/app/app_add||traceid=c0a87ba85fd8d4991ab445483a768bb0||cspanid=
[INFO][2020-12-15T23:22:01.102][log.go:58] _com_mysql_success||current_time=2020-12-15 23:22:01||proc_time=0.000000000||sql=SELECT * FROM `gateway_app`  WHERE (`gateway_app`.`app_id` = 'test_app_1')||spanid=9f70af3125845c95||level=sql||affected_row=0||traceid=c0a87ba85fd8d4991ab445483a768bb0||cspanid=||source=/home/john/go/src/github.com/go_gateway/dao/app.go:33
[INFO][2020-12-15T23:22:01.102][log.go:58] _com_mysql_success||affected_row=1||source=/home/john/go/src/github.com/go_gateway/dao/app.go:38||proc_time=0.000000000||sql=INSERT INTO `gateway_app` (`app_id`,`name`,`secret`,`white_ips`,`qpd`,`qps`,`create_at`,`update_at`,`is_delete`) VALUES ('test_app_1','test_app_1','aabacf69df4e73ecb0d229b451b787d4','','2000','20','2020-12-15 23:22:01','2020-12-15 23:22:01','0')||traceid=c0a87ba85fd8d4991ab445483a768bb0||cspanid=||spanid=9f70af3125845c95||level=sql||current_time=2020-12-15 23:22:01
[INFO][2020-12-15T23:22:01.102][log.go:58] _com_request_out||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"c0a87ba85fd8d4991ab445483a768bb0\",\"stack\":null}||proc_time=0.014633041||spanid=9f70af3125845c95||uri=/app/app_add||method=POST||args=map[]||traceid=c0a87ba85fd8d4991ab445483a768bb0||cspanid=
[INFO][2020-12-15T23:22:10.864][log.go:58] _com_request_in||uri=/app/app_list?page_size=22&page_no=1||method=GET||cspanid=||spanid=9f70af0a6e661e92||args=map[]||body=||from=127.0.0.1||traceid=c0a87ba85fd8d4a28aaf45480bd268b0
[INFO][2020-12-15T23:22:10.864][log.go:58] _com_mysql_success||current_time=2020-12-15 23:22:10||proc_time=0.000000000||sql=SELECT * FROM `gateway_app`  WHERE (is_delete='0') ORDER BY id desc LIMIT 22 OFFSET 0||traceid=c0a87ba85fd8d4a28aaf45480bd268b0||cspanid=||level=sql||affected_row=3||spanid=9f70af0a6e661e92||source=/home/john/go/src/github.com/go_gateway/dao/app.go:58
[INFO][2020-12-15T23:22:10.864][log.go:58] _com_mysql_success||current_time=2020-12-15 23:22:10||sql=SELECT count(*) FROM `gateway_app`  WHERE (is_delete='0')||spanid=9f70af0a6e661e92||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:62||proc_time=0.000000000||affected_row=0||traceid=c0a87ba85fd8d4a28aaf45480bd268b0||cspanid=
[INFO][2020-12-15T23:22:10.864][log.go:58] _com_request_out||method=GET||proc_time=0.002213239||traceid=c0a87ba85fd8d4a28aaf45480bd268b0||spanid=9f70af0a6e661e92||uri=/app/app_list?page_size=22&page_no=1||args=map[]||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"list\":[{\"id\":35,\"app_id\":\"test_app_1\",\"name\":\"test_app_1\",\"secret\":\"aabacf69df4e73ecb0d229b451b787d4\",\"white_ips\":\"\",\"qpd\":2000,\"qps\":20,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0},{\"id\":32,\"app_id\":\"app_id_b\",\"name\":\"租户B\",\"secret\":\"8d7b11ec9be0e59a36b52f32366c09cb\",\"white_ips\":\"\",\"qpd\":20,\"qps\":0,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0},{\"id\":31,\"app_id\":\"app_id_a\",\"name\":\"租户A\",\"secret\":\"449441eb5e72dca9c42a12f3924ea3a2\",\"white_ips\":\"white_ips\",\"qpd\":100000,\"qps\":100,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0}],\"total\":3},\"trace_id\":\"c0a87ba85fd8d4a28aaf45480bd268b0\",\"stack\":null}||cspanid=
[INFO][2020-12-15T23:22:19.397][log.go:58] _com_request_in||spanid=9f70af03592e17f7||args=map[]||body=||from=127.0.0.1||traceid=c0a87ba85fd8d4ab646f4548c34c36b0||cspanid=||uri=/app/app_detail?id=35||method=GET
[INFO][2020-12-15T23:22:19.397][log.go:58] _com_mysql_success||source=/home/john/go/src/github.com/go_gateway/dao/app.go:33||proc_time=0.000000000||sql=SELECT * FROM `gateway_app`  WHERE (`gateway_app`.`id` = '35')||traceid=c0a87ba85fd8d4ab646f4548c34c36b0||level=sql||affected_row=1||cspanid=||spanid=9f70af03592e17f7||current_time=2020-12-15 23:22:19
[INFO][2020-12-15T23:22:19.397][log.go:58] _com_request_out||from=127.0.0.1||proc_time=0.004614373||traceid=c0a87ba85fd8d4ab646f4548c34c36b0||uri=/app/app_detail?id=35||method=GET||args=map[]||spanid=9f70af03592e17f7||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"id\":35,\"app_id\":\"test_app_1\",\"name\":\"test_app_1\",\"secret\":\"aabacf69df4e73ecb0d229b451b787d4\",\"white_ips\":\"\",\"qpd\":2000,\"qps\":20,\"create_at\":\"2020-12-15T23:22:01+08:00\",\"update_at\":\"2020-12-15T23:22:01+08:00\",\"is_delete\":0},\"trace_id\":\"c0a87ba85fd8d4ab646f4548c34c36b0\",\"stack\":null}||cspanid=
[INFO][2020-12-15T23:22:27.256][log.go:58] _com_request_in||method=GET||traceid=c0a87ba85fd8d4b337fe45484419dbb0||cspanid=||spanid=9f70af1b4dba7b0f||uri=/app/app_delete?id=35||args=map[]||body=||from=127.0.0.1
[INFO][2020-12-15T23:22:27.256][log.go:58] _com_mysql_success||traceid=c0a87ba85fd8d4b337fe45484419dbb0||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:33||current_time=2020-12-15 23:22:27||affected_row=1||spanid=9f70af1b4dba7b0f||proc_time=0.000000000||sql=SELECT * FROM `gateway_app`  WHERE (`gateway_app`.`id` = '35')||cspanid=
[INFO][2020-12-15T23:22:27.256][log.go:58] _com_mysql_success||level=sql||current_time=2020-12-15 23:22:27||proc_time=0.000000000||sql=UPDATE `gateway_app` SET `app_id` = 'test_app_1', `name` = 'test_app_1', `secret` = 'aabacf69df4e73ecb0d229b451b787d4', `white_ips` = '', `qpd` = '2000', `qps` = '20', `create_at` = '2020-12-15 23:22:01', `update_at` = '2020-12-15 23:22:27', `is_delete` = '1'  WHERE `gateway_app`.`id` = '35'||spanid=9f70af1b4dba7b0f||source=/home/john/go/src/github.com/go_gateway/dao/app.go:38||affected_row=1||traceid=c0a87ba85fd8d4b337fe45484419dbb0||cspanid=
[INFO][2020-12-15T23:22:27.256][log.go:58] _com_request_out||uri=/app/app_delete?id=35||method=GET||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"c0a87ba85fd8d4b337fe45484419dbb0\",\"stack\":null}||spanid=9f70af1b4dba7b0f||args=map[]||proc_time=0.011580917||traceid=c0a87ba85fd8d4b337fe45484419dbb0||cspanid=
[INFO][2020-12-15T23:22:32.905][log.go:58] _com_request_in||body=||uri=/app/app_list?page_size=22&page_no=1||method=GET||args=map[]||from=127.0.0.1||traceid=c0a87ba85fd8d4b8571f45489442fdb0||cspanid=||spanid=9f70af1026984b92
[INFO][2020-12-15T23:22:32.905][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_app`  WHERE (is_delete='0') ORDER BY id desc LIMIT 22 OFFSET 0||affected_row=2||cspanid=||spanid=9f70af1026984b92||source=/home/john/go/src/github.com/go_gateway/dao/app.go:58||current_time=2020-12-15 23:22:32||proc_time=0.000000000||level=sql||traceid=c0a87ba85fd8d4b8571f45489442fdb0
[INFO][2020-12-15T23:22:32.905][log.go:58] _com_mysql_success||traceid=c0a87ba85fd8d4b8571f45489442fdb0||spanid=9f70af1026984b92||proc_time=0.000000000||sql=SELECT count(*) FROM `gateway_app`  WHERE (is_delete='0')||affected_row=0||cspanid=||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:62||current_time=2020-12-15 23:22:32
[INFO][2020-12-15T23:22:32.905][log.go:58] _com_request_out||args=map[]||proc_time=0.002389713||uri=/app/app_list?page_size=22&page_no=1||method=GET||traceid=c0a87ba85fd8d4b8571f45489442fdb0||cspanid=||spanid=9f70af1026984b92||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"list\":[{\"id\":32,\"app_id\":\"app_id_b\",\"name\":\"租户B\",\"secret\":\"8d7b11ec9be0e59a36b52f32366c09cb\",\"white_ips\":\"\",\"qpd\":20,\"qps\":0,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0},{\"id\":31,\"app_id\":\"app_id_a\",\"name\":\"租户A\",\"secret\":\"449441eb5e72dca9c42a12f3924ea3a2\",\"white_ips\":\"white_ips\",\"qpd\":100000,\"qps\":100,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0}],\"total\":2},\"trace_id\":\"c0a87ba85fd8d4b8571f45489442fdb0\",\"stack\":null}
[INFO][2020-12-15T23:22:59.920][log.go:58] _com_request_in||cspanid=||method=POST||body={\n  \"app_id\": \"test_app_1\",\n  \"name\": \"test_app_1\",\n  \"qpd\": 2000,\n  \"qps\": 20,\n  \"secret\": \"\",\n  \"white_ips\": \"\"\n}||from=127.0.0.1||traceid=c0a87ba85fd8d4d30ddb454829d9f1b0||uri=/app/app_add||args=map[]||spanid=9f70af7b43ea3b93
[INFO][2020-12-15T23:22:59.920][log.go:58] _com_mysql_success||proc_time=0.000000000||affected_row=1||spanid=9f70af7b43ea3b93||current_time=2020-12-15 23:22:59||source=/home/john/go/src/github.com/go_gateway/dao/app.go:33||sql=SELECT * FROM `gateway_app`  WHERE (`gateway_app`.`app_id` = 'test_app_1')||traceid=c0a87ba85fd8d4d30ddb454829d9f1b0||cspanid=||level=sql
[INFO][2020-12-15T23:22:59.920][log.go:58] _com_request_out||args=map[]||from=127.0.0.1||response={\"errno\":2003,\"errmsg\":\"租户ID被占用，请重新输入\",\"data\":\"\",\"trace_id\":\"c0a87ba85fd8d4d30ddb454829d9f1b0\",\"stack\":\"github.com/go_gateway/controller.(*APPController).AppAdd\\n\\t/home/john/go/src/github.com/go_gateway/controller/app.go:185\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/translation.go:177\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.RequestLog.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20191209060500-d6e26eeaa607/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2836\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1924\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1373\"}||cspanid=||uri=/app/app_add||proc_time=0.007989834||traceid=c0a87ba85fd8d4d30ddb454829d9f1b0||spanid=9f70af7b43ea3b93||method=POST
[INFO][2020-12-15T23:23:42.586][log.go:58] _com_request_in||uri=/app/app_update||body={\n  \"id\": 35,\n  \"app_id\": \"test_app_2\",\n  \"name\": \"test_app_1\",\n  \"qpd\": 2000,\n  \"qps\": 200,\n  \"secret\": \"\",\n  \"white_ips\": \"\"\n}||traceid=c0a87ba85fd8d4fe5be04548f1017fb0||cspanid=||spanid=9f70af562e4fa459||method=POST||args=map[]||from=127.0.0.1
[INFO][2020-12-15T23:23:42.586][log.go:58] _com_request_out||args=map[]||cspanid=||method=POST||from=127.0.0.1||response={\"errno\":2001,\"errmsg\":\"密钥为必填字段\",\"data\":\"\",\"trace_id\":\"c0a87ba85fd8d4fe5be04548f1017fb0\",\"stack\":\"github.com/go_gateway/public.DefaultGetValidParams\\n\\t/home/john/go/src/github.com/go_gateway/public/params.go:32\\ngithub.com/go_gateway/dto.(*APPUpdateHttpInput).GetValidParams\\n\\t/home/john/go/src/github.com/go_gateway/dto/app.go:76\\ngithub.com/go_gateway/controller.(*APPController).AppUpdate\\n\\t/home/john/go/src/github.com/go_gateway/controller/app.go:219\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/translation.go:177\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.RequestLog.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20191209060500-d6e26eeaa607/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2836\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1924\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1373\"}||proc_time=0.001048957||traceid=c0a87ba85fd8d4fe5be04548f1017fb0||spanid=9f70af562e4fa459||uri=/app/app_update
[INFO][2020-12-15T23:23:48.663][log.go:58] _com_request_in||body={\n  \"id\": 35,\n  \"app_id\": \"test_app_2\",\n  \"name\": \"test_app_1\",\n  \"qpd\": 2000,\n  \"qps\": 200,\n  \"secret\": \"asdad\",\n  \"white_ips\": \"\"\n}||from=127.0.0.1||traceid=c0a87ba85fd8d504762e4548b5a315b0||uri=/app/app_update||args=map[]||cspanid=||spanid=9f70aeac2607c649||method=POST
[INFO][2020-12-15T23:23:48.663][log.go:58] _com_mysql_success||cspanid=||spanid=9f70aeac2607c649||source=/home/john/go/src/github.com/go_gateway/dao/app.go:33||proc_time=0.000000000||affected_row=1||traceid=c0a87ba85fd8d504762e4548b5a315b0||level=sql||current_time=2020-12-15 23:23:48||sql=SELECT * FROM `gateway_app`  WHERE (`gateway_app`.`id` = '35')
[INFO][2020-12-15T23:23:48.663][log.go:58] _com_mysql_success||current_time=2020-12-15 23:23:48||proc_time=0.000000000||affected_row=1||traceid=c0a87ba85fd8d504762e4548b5a315b0||cspanid=||spanid=9f70aeac2607c649||level=sql||sql=UPDATE `gateway_app` SET `app_id` = 'test_app_1', `name` = 'test_app_1', `secret` = 'asdad', `white_ips` = '', `qpd` = '2000', `qps` = '200', `create_at` = '2020-12-15 23:22:01', `update_at` = '2020-12-15 23:23:48', `is_delete` = '1'  WHERE `gateway_app`.`id` = '35'||source=/home/john/go/src/github.com/go_gateway/dao/app.go:38
[INFO][2020-12-15T23:23:48.663][log.go:58] _com_request_out||traceid=c0a87ba85fd8d504762e4548b5a315b0||cspanid=||uri=/app/app_update||args=map[]||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"c0a87ba85fd8d504762e4548b5a315b0\",\"stack\":null}||proc_time=0.005236944||method=POST||from=127.0.0.1||spanid=9f70aeac2607c649
[INFO][2020-12-15T23:23:55.227][log.go:58] _com_request_in||uri=/app/app_list?page_size=22&page_no=1||args=map[]||body=||traceid=c0a87ba85fd8d50ba67b454873fac8b0||spanid=9f70aea3572d92fa||method=GET||from=127.0.0.1||cspanid=
[INFO][2020-12-15T23:23:55.227][log.go:58] _com_mysql_success||spanid=9f70aea3572d92fa||current_time=2020-12-15 23:23:55||cspanid=||sql=SELECT * FROM `gateway_app`  WHERE (is_delete='0') ORDER BY id desc LIMIT 22 OFFSET 0||affected_row=2||traceid=c0a87ba85fd8d50ba67b454873fac8b0||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:58||proc_time=0.000000000
[INFO][2020-12-15T23:23:55.227][log.go:58] _com_mysql_success||traceid=c0a87ba85fd8d50ba67b454873fac8b0||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:62||current_time=2020-12-15 23:23:55||proc_time=0.000000000||sql=SELECT count(*) FROM `gateway_app`  WHERE (is_delete='0')||affected_row=0||cspanid=||spanid=9f70aea3572d92fa
[INFO][2020-12-15T23:23:55.227][log.go:58] _com_request_out||uri=/app/app_list?page_size=22&page_no=1||args=map[]||traceid=c0a87ba85fd8d50ba67b454873fac8b0||cspanid=||spanid=9f70aea3572d92fa||method=GET||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"list\":[{\"id\":32,\"app_id\":\"app_id_b\",\"name\":\"租户B\",\"secret\":\"8d7b11ec9be0e59a36b52f32366c09cb\",\"white_ips\":\"\",\"qpd\":20,\"qps\":0,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0},{\"id\":31,\"app_id\":\"app_id_a\",\"name\":\"租户A\",\"secret\":\"449441eb5e72dca9c42a12f3924ea3a2\",\"white_ips\":\"white_ips\",\"qpd\":100000,\"qps\":100,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0}],\"total\":2},\"trace_id\":\"c0a87ba85fd8d50ba67b454873fac8b0\",\"stack\":null}||proc_time=0.002344646
[INFO][2020-12-15T23:24:08.214][log.go:58] _com_request_in||cspanid=||body={\n  \"app_id\": \"test_app_1\",\n  \"name\": \"test_app_1\",\n  \"qpd\": 2000,\n  \"qps\": 20,\n  \"secret\": \"\",\n  \"white_ips\": \"\"\n}||from=127.0.0.1||args=map[]||traceid=c0a87ba85fd8d5182f8d454888f8bdb0||spanid=9f70aeb05d78399c||uri=/app/app_add||method=POST
[INFO][2020-12-15T23:24:08.214][log.go:58] _com_mysql_success||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:33||proc_time=0.000000000||affected_row=1||cspanid=||current_time=2020-12-15 23:24:08||sql=SELECT * FROM `gateway_app`  WHERE (`gateway_app`.`app_id` = 'test_app_1')||traceid=c0a87ba85fd8d5182f8d454888f8bdb0||spanid=9f70aeb05d78399c
[INFO][2020-12-15T23:24:08.214][log.go:58] _com_request_out||response={\"errno\":2003,\"errmsg\":\"租户ID被占用，请重新输入\",\"data\":\"\",\"trace_id\":\"c0a87ba85fd8d5182f8d454888f8bdb0\",\"stack\":\"github.com/go_gateway/controller.(*APPController).AppAdd\\n\\t/home/john/go/src/github.com/go_gateway/controller/app.go:185\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/translation.go:177\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.RequestLog.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20191209060500-d6e26eeaa607/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2836\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1924\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1373\"}||traceid=c0a87ba85fd8d5182f8d454888f8bdb0||spanid=9f70aeb05d78399c||proc_time=0.004908024||cspanid=||uri=/app/app_add||method=POST||args=map[]||from=127.0.0.1
[INFO][2020-12-15T23:24:16.408][log.go:58] _com_request_in||uri=/app/app_list?page_size=22&page_no=1||body=||spanid=9f70ae8857613082||method=GET||args=map[]||from=127.0.0.1||traceid=c0a87ba85fd8d520e0f74548d0a1e9b0||cspanid=
[INFO][2020-12-15T23:24:16.408][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_app`  WHERE (is_delete='0') ORDER BY id desc LIMIT 22 OFFSET 0||cspanid=||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:58||current_time=2020-12-15 23:24:16||proc_time=0.000000000||affected_row=2||traceid=c0a87ba85fd8d520e0f74548d0a1e9b0||spanid=9f70ae8857613082
[INFO][2020-12-15T23:24:16.408][log.go:58] _com_mysql_success||current_time=2020-12-15 23:24:16||proc_time=0.000000000||sql=SELECT count(*) FROM `gateway_app`  WHERE (is_delete='0')||affected_row=0||traceid=c0a87ba85fd8d520e0f74548d0a1e9b0||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:62||cspanid=||spanid=9f70ae8857613082
[INFO][2020-12-15T23:24:16.408][log.go:58] _com_request_out||method=GET||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"list\":[{\"id\":32,\"app_id\":\"app_id_b\",\"name\":\"租户B\",\"secret\":\"8d7b11ec9be0e59a36b52f32366c09cb\",\"white_ips\":\"\",\"qpd\":20,\"qps\":0,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0},{\"id\":31,\"app_id\":\"app_id_a\",\"name\":\"租户A\",\"secret\":\"449441eb5e72dca9c42a12f3924ea3a2\",\"white_ips\":\"white_ips\",\"qpd\":100000,\"qps\":100,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0}],\"total\":2},\"trace_id\":\"c0a87ba85fd8d520e0f74548d0a1e9b0\",\"stack\":null}||traceid=c0a87ba85fd8d520e0f74548d0a1e9b0||cspanid=||spanid=9f70ae8857613082||uri=/app/app_list?page_size=22&page_no=1||args=map[]||proc_time=0.002264213
[INFO][2020-12-15T23:24:26.517][log.go:58] _com_request_in||method=POST||body={\n  \"app_id\": \"test_app_2\",\n  \"name\": \"test_app_1\",\n  \"qpd\": 2000,\n  \"qps\": 20,\n  \"secret\": \"\",\n  \"white_ips\": \"\"\n}||from=127.0.0.1||traceid=c0a87ba85fd8d52a8dbf4548a780eab0||spanid=9f70ae827a3ba6f6||uri=/app/app_add||args=map[]||cspanid=
[INFO][2020-12-15T23:24:26.517][log.go:58] _com_mysql_success||current_time=2020-12-15 23:24:26||sql=SELECT * FROM `gateway_app`  WHERE (`gateway_app`.`app_id` = 'test_app_2')||traceid=c0a87ba85fd8d52a8dbf4548a780eab0||cspanid=||spanid=9f70ae827a3ba6f6||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:33||proc_time=0.000000000||affected_row=0
[INFO][2020-12-15T23:24:26.517][log.go:58] _com_mysql_success||source=/home/john/go/src/github.com/go_gateway/dao/app.go:38||current_time=2020-12-15 23:24:26||traceid=c0a87ba85fd8d52a8dbf4548a780eab0||spanid=9f70ae827a3ba6f6||level=sql||proc_time=0.000000000||sql=INSERT INTO `gateway_app` (`app_id`,`name`,`secret`,`white_ips`,`qpd`,`qps`,`create_at`,`update_at`,`is_delete`) VALUES ('test_app_2','test_app_1','4df7f28b881cca3bc48f043f872fcc38','','2000','20','2020-12-15 23:24:26','2020-12-15 23:24:26','0')||affected_row=1||cspanid=
[INFO][2020-12-15T23:24:26.517][log.go:58] _com_request_out||method=POST||args=map[]||from=127.0.0.1||proc_time=0.00898094||traceid=c0a87ba85fd8d52a8dbf4548a780eab0||uri=/app/app_add||cspanid=||spanid=9f70ae827a3ba6f6||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"c0a87ba85fd8d52a8dbf4548a780eab0\",\"stack\":null}
[INFO][2020-12-15T23:24:31.755][log.go:58] _com_request_in||traceid=c0a87ba85fd8d52f2d29454822787cb0||cspanid=||spanid=9f70ae8746a03cb4||from=127.0.0.1||args=map[]||body=||uri=/app/app_list?page_size=22&page_no=1||method=GET
[INFO][2020-12-15T23:24:31.755][log.go:58] _com_mysql_success||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_app`  WHERE (is_delete='0') ORDER BY id desc LIMIT 22 OFFSET 0||affected_row=3||cspanid=||source=/home/john/go/src/github.com/go_gateway/dao/app.go:58||current_time=2020-12-15 23:24:31||traceid=c0a87ba85fd8d52f2d29454822787cb0||spanid=9f70ae8746a03cb4
[INFO][2020-12-15T23:24:31.755][log.go:58] _com_mysql_success||current_time=2020-12-15 23:24:31||proc_time=0.000000000||affected_row=0||traceid=c0a87ba85fd8d52f2d29454822787cb0||cspanid=||spanid=9f70ae8746a03cb4||source=/home/john/go/src/github.com/go_gateway/dao/app.go:62||sql=SELECT count(*) FROM `gateway_app`  WHERE (is_delete='0')||level=sql
[INFO][2020-12-15T23:24:31.755][log.go:58] _com_request_out||args=map[]||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"list\":[{\"id\":36,\"app_id\":\"test_app_2\",\"name\":\"test_app_1\",\"secret\":\"4df7f28b881cca3bc48f043f872fcc38\",\"white_ips\":\"\",\"qpd\":2000,\"qps\":20,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0},{\"id\":32,\"app_id\":\"app_id_b\",\"name\":\"租户B\",\"secret\":\"8d7b11ec9be0e59a36b52f32366c09cb\",\"white_ips\":\"\",\"qpd\":20,\"qps\":0,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0},{\"id\":31,\"app_id\":\"app_id_a\",\"name\":\"租户A\",\"secret\":\"449441eb5e72dca9c42a12f3924ea3a2\",\"white_ips\":\"white_ips\",\"qpd\":100000,\"qps\":100,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0}],\"total\":3},\"trace_id\":\"c0a87ba85fd8d52f2d29454822787cb0\",\"stack\":null}||cspanid=||uri=/app/app_list?page_size=22&page_no=1||proc_time=0.002925418||traceid=c0a87ba85fd8d52f2d29454822787cb0||spanid=9f70ae8746a03cb4||method=GET
[INFO][2020-12-15T23:24:46.047][log.go:58] _com_request_in||from=127.0.0.1||traceid=c0a87ba85fd8d53ebca64548bb5389b0||cspanid=||uri=/app/app_update||body={\n  \"id\": 36,\n  \"app_id\": \"test_app_5\",\n  \"name\": \"test_app_21\",\n  \"qpd\": 2000,\n  \"qps\": 200,\n  \"secret\": \"\",\n  \"white_ips\": \"\"\n}||spanid=9f70ae96293a0c2b||method=POST||args=map[]
[INFO][2020-12-15T23:24:46.047][log.go:58] _com_request_out||uri=/app/app_update||method=POST||args=map[]||proc_time=0.000837717||cspanid=||spanid=9f70ae96293a0c2b||from=127.0.0.1||response={\"errno\":2001,\"errmsg\":\"密钥为必填字段\",\"data\":\"\",\"trace_id\":\"c0a87ba85fd8d53ebca64548bb5389b0\",\"stack\":\"github.com/go_gateway/public.DefaultGetValidParams\\n\\t/home/john/go/src/github.com/go_gateway/public/params.go:32\\ngithub.com/go_gateway/dto.(*APPUpdateHttpInput).GetValidParams\\n\\t/home/john/go/src/github.com/go_gateway/dto/app.go:76\\ngithub.com/go_gateway/controller.(*APPController).AppUpdate\\n\\t/home/john/go/src/github.com/go_gateway/controller/app.go:219\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/translation.go:177\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.RequestLog.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/home/john/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20191209060500-d6e26eeaa607/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/home/john/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2836\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1924\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1373\"}||traceid=c0a87ba85fd8d53ebca64548bb5389b0
[INFO][2020-12-15T23:24:51.344][log.go:58] _com_request_in||uri=/app/app_update||cspanid=||spanid=9f70aeeb52804793||method=POST||args=map[]||body={\n  \"id\": 36,\n  \"app_id\": \"test_app_5\",\n  \"name\": \"test_app_21\",\n  \"qpd\": 2000,\n  \"qps\": 200,\n  \"secret\": \"dasd\",\n  \"white_ips\": \"\"\n}||from=127.0.0.1||traceid=c0a87ba85fd8d543934445484e91e9b0
[INFO][2020-12-15T23:24:51.344][log.go:58] _com_mysql_success||source=/home/john/go/src/github.com/go_gateway/dao/app.go:33||proc_time=0.000000000||sql=SELECT * FROM `gateway_app`  WHERE (`gateway_app`.`id` = '36')||spanid=9f70aeeb52804793||level=sql||affected_row=1||traceid=c0a87ba85fd8d543934445484e91e9b0||cspanid=||current_time=2020-12-15 23:24:51
[INFO][2020-12-15T23:24:51.344][log.go:58] _com_mysql_success||source=/home/john/go/src/github.com/go_gateway/dao/app.go:38||proc_time=0.000000000||sql=UPDATE `gateway_app` SET `app_id` = 'test_app_2', `name` = 'test_app_21', `secret` = 'dasd', `white_ips` = '', `qpd` = '2000', `qps` = '200', `create_at` = '2020-12-15 23:24:27', `update_at` = '2020-12-15 23:24:51', `is_delete` = '0'  WHERE `gateway_app`.`id` = '36'||spanid=9f70aeeb52804793||level=sql||current_time=2020-12-15 23:24:51||affected_row=1||traceid=c0a87ba85fd8d543934445484e91e9b0||cspanid=
[INFO][2020-12-15T23:24:51.344][log.go:58] _com_request_out||spanid=9f70aeeb52804793||uri=/app/app_update||args=map[]||from=127.0.0.1||cspanid=||method=POST||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"c0a87ba85fd8d543934445484e91e9b0\",\"stack\":null}||proc_time=0.011197158||traceid=c0a87ba85fd8d543934445484e91e9b0
[INFO][2020-12-15T23:24:56.346][log.go:58] _com_request_in||from=127.0.0.1||traceid=c0a87ba85fd8d5480e164548503382b0||cspanid=||body=||spanid=9f70aee044841df3||uri=/app/app_list?page_size=22&page_no=1||method=GET||args=map[]
[INFO][2020-12-15T23:24:56.346][log.go:58] _com_mysql_success||cspanid=||current_time=2020-12-15 23:24:56||proc_time=0.000000000||sql=SELECT * FROM `gateway_app`  WHERE (is_delete='0') ORDER BY id desc LIMIT 22 OFFSET 0||affected_row=3||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:58||traceid=c0a87ba85fd8d5480e164548503382b0||spanid=9f70aee044841df3
[INFO][2020-12-15T23:24:56.346][log.go:58] _com_mysql_success||traceid=c0a87ba85fd8d5480e164548503382b0||cspanid=||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:62||current_time=2020-12-15 23:24:56||sql=SELECT count(*) FROM `gateway_app`  WHERE (is_delete='0')||affected_row=0||spanid=9f70aee044841df3||proc_time=0.000000000
[INFO][2020-12-15T23:24:56.346][log.go:58] _com_request_out||cspanid=||uri=/app/app_list?page_size=22&page_no=1||method=GET||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"list\":[{\"id\":36,\"app_id\":\"test_app_2\",\"name\":\"test_app_21\",\"secret\":\"dasd\",\"white_ips\":\"\",\"qpd\":2000,\"qps\":200,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0},{\"id\":32,\"app_id\":\"app_id_b\",\"name\":\"租户B\",\"secret\":\"8d7b11ec9be0e59a36b52f32366c09cb\",\"white_ips\":\"\",\"qpd\":20,\"qps\":0,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0},{\"id\":31,\"app_id\":\"app_id_a\",\"name\":\"租户A\",\"secret\":\"449441eb5e72dca9c42a12f3924ea3a2\",\"white_ips\":\"white_ips\",\"qpd\":100000,\"qps\":100,\"real_qpd\":0,\"real_qps\":0,\"create_at\":\"0001-01-01T00:00:00Z\",\"update_at\":\"0001-01-01T00:00:00Z\",\"is_delete\":0}],\"total\":3},\"trace_id\":\"c0a87ba85fd8d5480e164548503382b0\",\"stack\":null}||traceid=c0a87ba85fd8d5480e164548503382b0||spanid=9f70aee044841df3||args=map[]||from=127.0.0.1||proc_time=0.002974653
[INFO][2020-12-15T23:25:11.016][log.go:58] _com_request_in||spanid=9f70aeff3485757e||uri=/app/app_detail?id=35||args=map[]||body=||from=127.0.0.1||method=GET||traceid=c0a87ba85fd8d557318a454802a18db0||cspanid=
[INFO][2020-12-15T23:25:11.016][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_app`  WHERE (`gateway_app`.`id` = '35')||traceid=c0a87ba85fd8d557318a454802a18db0||cspanid=||proc_time=0.000000000||affected_row=1||spanid=9f70aeff3485757e||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:33||current_time=2020-12-15 23:25:11
[INFO][2020-12-15T23:25:11.016][log.go:58] _com_request_out||cspanid=||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"id\":35,\"app_id\":\"test_app_1\",\"name\":\"test_app_1\",\"secret\":\"asdad\",\"white_ips\":\"\",\"qpd\":2000,\"qps\":200,\"create_at\":\"2020-12-15T23:22:01+08:00\",\"update_at\":\"2020-12-15T23:23:49+08:00\",\"is_delete\":1},\"trace_id\":\"c0a87ba85fd8d557318a454802a18db0\",\"stack\":null}||proc_time=0.001893959||traceid=c0a87ba85fd8d557318a454802a18db0||uri=/app/app_detail?id=35||method=GET||args=map[]||spanid=9f70aeff3485757e
[INFO][2020-12-15T23:25:16.911][log.go:58] _com_request_in||traceid=c0a87ba85fd8d55c71c445486b36dbb0||cspanid=||spanid=9f70aef44fd269fd||uri=/app/app_detail?id=36||body=||from=127.0.0.1||method=GET||args=map[]
[INFO][2020-12-15T23:25:16.911][log.go:58] _com_mysql_success||traceid=c0a87ba85fd8d55c71c445486b36dbb0||cspanid=||sql=SELECT * FROM `gateway_app`  WHERE (`gateway_app`.`id` = '36')||affected_row=1||current_time=2020-12-15 23:25:16||proc_time=0.000000000||spanid=9f70aef44fd269fd||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:33
[INFO][2020-12-15T23:25:16.911][log.go:58] _com_request_out||uri=/app/app_detail?id=36||from=127.0.0.1||traceid=c0a87ba85fd8d55c71c445486b36dbb0||cspanid=||spanid=9f70aef44fd269fd||method=GET||args=map[]||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"id\":36,\"app_id\":\"test_app_2\",\"name\":\"test_app_21\",\"secret\":\"dasd\",\"white_ips\":\"\",\"qpd\":2000,\"qps\":200,\"create_at\":\"2020-12-15T23:24:27+08:00\",\"update_at\":\"2020-12-15T23:24:51+08:00\",\"is_delete\":0},\"trace_id\":\"c0a87ba85fd8d55c71c445486b36dbb0\",\"stack\":null}||proc_time=0.001643539
[INFO][2020-12-15T23:33:35.923][log.go:58] _com_request_in||args=map[]||spanid=9f70ace7380704bb||uri=/dashboard/panelGroupData||method=GET||traceid=c0a87ba85fd8d74faa9f4759104dc7b0||cspanid=||body=||from=127.0.0.1
[INFO][2020-12-15T23:33:35.923][log.go:58] _com_mysql_success||current_time=2020-12-15 23:33:35||sql=SELECT * FROM `gateway_service_info`  WHERE (is_delete=0) ORDER BY id desc LIMIT 1 OFFSET 0||cspanid=||source=/home/john/go/src/github.com/go_gateway/dao/service_info.go:83||proc_time=0.000000000||affected_row=1||traceid=c0a87ba85fd8d74faa9f4759104dc7b0||spanid=9f70ace7380704bb||level=sql
[INFO][2020-12-15T23:33:35.923][log.go:58] _com_mysql_success||cspanid=||current_time=2020-12-15 23:33:35||affected_row=0||proc_time=0.000000000||sql=SELECT count(*) FROM `gateway_service_info`  WHERE (is_delete=0) LIMIT 1 OFFSET 0||traceid=c0a87ba85fd8d74faa9f4759104dc7b0||spanid=9f70ace7380704bb||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/service_info.go:86
[INFO][2020-12-15T23:33:35.923][log.go:58] _com_mysql_success||affected_row=1||spanid=9f70ace7380704bb||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:58||current_time=2020-12-15 23:33:35||proc_time=0.000000000||sql=SELECT * FROM `gateway_app`  WHERE (is_delete='0') ORDER BY id desc LIMIT 1 OFFSET 0||traceid=c0a87ba85fd8d74faa9f4759104dc7b0||cspanid=
[INFO][2020-12-15T23:33:35.923][log.go:58] _com_mysql_success||source=/home/john/go/src/github.com/go_gateway/dao/app.go:62||current_time=2020-12-15 23:33:35||proc_time=0.000000000||sql=SELECT count(*) FROM `gateway_app`  WHERE (is_delete='0')||affected_row=0||cspanid=||spanid=9f70ace7380704bb||level=sql||traceid=c0a87ba85fd8d74faa9f4759104dc7b0
[INFO][2020-12-15T23:33:35.923][log.go:58] _com_request_out||proc_time=0.013199761||cspanid=||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"service_num\":8,\"app_num\":3,\"current_qps\":0,\"today_request_num\":0},\"trace_id\":\"c0a87ba85fd8d74faa9f4759104dc7b0\",\"stack\":null}||traceid=c0a87ba85fd8d74faa9f4759104dc7b0||spanid=9f70ace7380704bb||uri=/dashboard/panelGroupData||method=GET||args=map[]
[INFO][2020-12-15T23:34:41.165][log.go:58] _com_request_in||from=127.0.0.1||traceid=c0a87ba85fd8d791fa1647fd104dc7b0||cspanid=||spanid=9f70ac39380704bb||uri=/dashboard/panelGroupData||method=GET||args=map[]||body=
[INFO][2020-12-15T23:34:41.165][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_info`  WHERE (is_delete=0) ORDER BY id desc LIMIT 1 OFFSET 0||traceid=c0a87ba85fd8d791fa1647fd104dc7b0||spanid=9f70ac39380704bb||level=sql||current_time=2020-12-15 23:34:41||affected_row=1||cspanid=||source=/home/john/go/src/github.com/go_gateway/dao/service_info.go:83||proc_time=0.000000000
[INFO][2020-12-15T23:34:41.165][log.go:58] _com_mysql_success||source=/home/john/go/src/github.com/go_gateway/dao/service_info.go:86||sql=SELECT count(*) FROM `gateway_service_info`  WHERE (is_delete=0) LIMIT 1 OFFSET 0||affected_row=0||level=sql||current_time=2020-12-15 23:34:41||proc_time=0.000000000||traceid=c0a87ba85fd8d791fa1647fd104dc7b0||cspanid=||spanid=9f70ac39380704bb
[INFO][2020-12-15T23:34:41.165][log.go:58] _com_mysql_success||current_time=2020-12-15 23:34:41||sql=SELECT * FROM `gateway_app`  WHERE (is_delete='0') ORDER BY id desc LIMIT 1 OFFSET 0||affected_row=1||cspanid=||spanid=9f70ac39380704bb||level=sql||source=/home/john/go/src/github.com/go_gateway/dao/app.go:58||proc_time=0.000000000||traceid=c0a87ba85fd8d791fa1647fd104dc7b0
[INFO][2020-12-15T23:34:41.165][log.go:58] _com_mysql_success||source=/home/john/go/src/github.com/go_gateway/dao/app.go:62||traceid=c0a87ba85fd8d791fa1647fd104dc7b0||level=sql||current_time=2020-12-15 23:34:41||proc_time=0.000000000||sql=SELECT count(*) FROM `gateway_app`  WHERE (is_delete='0')||affected_row=0||cspanid=||spanid=9f70ac39380704bb
[INFO][2020-12-15T23:34:41.165][log.go:58] _com_request_out||traceid=c0a87ba85fd8d791fa1647fd104dc7b0||cspanid=||proc_time=0.028285293||method=GET||args=map[]||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"service_num\":8,\"app_num\":3,\"current_qps\":0,\"today_request_num\":0},\"trace_id\":\"c0a87ba85fd8d791fa1647fd104dc7b0\",\"stack\":null}||spanid=9f70ac39380704bb||uri=/dashboard/panelGroupData
